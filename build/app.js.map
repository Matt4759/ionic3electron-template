{"version":3,"file":"app.js","sources":["src/app.js"],"sourcesContent":["(function () {\n  'use strict'\n\n  const electron = require('electron')\n  const app = electron.app\n  const BrowserWindow = electron.BrowserWindow\n  const client = require('electron-connect').client\n\n  const express = require('express')\n  const path = require('path')\n  const logger = require('morgan')\n  const cookieParser = require('cookie-parser')\n  const bodyParser = require('body-parser')\n  const skipMap = require('skip-map')\n  const expressApp = express()\n  const debug = require('debug')('express-test:server')\n  const http = require('http')\n  const port = process.env.PORT || '3000'\n  let server\n\n  function onListening () {\n    let addr = server.address()\n    let bind = typeof addr === 'string'\n          ? 'pipe ' + addr\n          : 'port ' + addr.port\n    debug('Listening on ' + bind)\n\n    mainWindow.loadURL('http://127.0.0.1:3000')\n\n        // Use Electron Connect when developing for live reloading, and show the devtools\n    if (process.env.NODE_ENV === 'development') {\n      mainWindow.toggleDevTools()\n      client.create(mainWindow)\n    };\n  }\n\n  let mainWindow = null\n\n  app.on('window-all-closed', function () {\n    if (process.platform !== 'darwin') {\n      app.quit()\n    }\n  })\n\n  app.on('ready', function () {\n    mainWindow = new BrowserWindow({\n      autoHideMenuBar: true,\n      webPreferences: {\n        nodeIntegration: true\n      },\n      width: 1200,\n      height: 900\n    })\n\n    expressApp.use(skipMap())\n    expressApp.use(express.static(path.join(__dirname, 'www')))\n    expressApp.use(express.static(path.join(__dirname, 'node_modules')))\n    expressApp.use(logger('dev'))\n    expressApp.use(bodyParser.json())\n    expressApp.use(bodyParser.urlencoded({ extended: false }))\n    expressApp.use(cookieParser())\n    expressApp.set('port', port)\n    expressApp.get('/', function (req, res) {\n      res.sendFile(path.join(path.join(__dirname, '/index.html')))\n    })\n\n    server = http.createServer(expressApp)\n    server.listen(port)\n    server.on('listening', onListening)\n\n    mainWindow.on('closed', function () {\n      mainWindow = null\n      server.close()\n    })\n  })\n}())\n// # sourceMappingURL=app.js.map\n"],"names":[],"mappings":";;AAAA,CAAC,YAAY;EACX,YAAY,CAAA;;EAEZ,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;EACpC,MAAM,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAA;EACxB,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAA;EAC5C,MAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAA;;EAEjD,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;EAClC,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;EAC5B,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;EAChC,MAAM,YAAY,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;EAC7C,MAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;EACzC,MAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;EACnC,MAAM,UAAU,GAAG,OAAO,EAAE,CAAA;EAC5B,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,qBAAqB,CAAC,CAAA;EACrD,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;EAC5B,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,MAAM,CAAA;EACvC,IAAI,MAAM,CAAA;;EAEV,SAAS,WAAW,IAAI;IACtB,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAA;IAC3B,IAAI,IAAI,GAAG,OAAO,IAAI,KAAK,QAAQ;YAC3B,OAAO,GAAG,IAAI;YACd,OAAO,GAAG,IAAI,CAAC,IAAI,CAAA;IAC3B,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,CAAA;;IAE7B,UAAU,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAA;;;IAG3C,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE;MAC1C,UAAU,CAAC,cAAc,EAAE,CAAA;MAC3B,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;KAC1B,AAAC;GACH;;EAED,IAAI,UAAU,GAAG,IAAI,CAAA;;EAErB,GAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE,YAAY;IACtC,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;MACjC,GAAG,CAAC,IAAI,EAAE,CAAA;KACX;GACF,CAAC,CAAA;;EAEF,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;IAC1B,UAAU,GAAG,IAAI,aAAa,CAAC;MAC7B,eAAe,EAAE,IAAI;MACrB,cAAc,EAAE;QACd,eAAe,EAAE,IAAI;OACtB;MACD,KAAK,EAAE,IAAI;MACX,MAAM,EAAE,GAAG;KACZ,CAAC,CAAA;;IAEF,UAAU,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAA;IACzB,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,CAAA;IAC3D,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC,CAAA;IACpE,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;IAC7B,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAA;IACjC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAA;IAC1D,UAAU,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,CAAA;IAC9B,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;IAC5B,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;MACtC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC,CAAA;KAC7D,CAAC,CAAA;;IAEF,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAA;IACtC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IACnB,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,WAAW,CAAC,CAAA;;IAEnC,UAAU,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAY;MAClC,UAAU,GAAG,IAAI,CAAA;MACjB,MAAM,CAAC,KAAK,EAAE,CAAA;KACf,CAAC,CAAA;GACH,CAAC,CAAA;CACH,EAAE,CAAC,CAAA;gCAC4B"}